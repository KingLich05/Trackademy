# Dashboard API - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

## üìä –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Dashboard API

–ú—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Dashboard API, –ø–µ—Ä–µ—Ö–æ–¥—è –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö endpoints –∫ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ endpoints.

## üöÄ –ù–æ–≤—ã–µ API Endpoints

### 1. –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ - `/api/dashboard/summary`
**GET** `/api/dashboard/summary`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ –¥–∞—à–±–æ—Ä–¥–∞:

```json
{
  "totalStudents": 245,
  "activeStudents": 198,
  "totalGroups": 42,
  "activeGroups": 38,
  "todayLessons": 15,
  "weeklyLessons": 87,
  "overallAttendanceRate": 78.5,
  "lowPerformanceGroupsCount": 3,
  "unpaidStudentsCount": 12,
  "trialStudentsCount": 8,
  "topTeachersCount": 5,
  "generatedAt": "2024-01-15T10:30:00Z",
  "reportPeriod": "–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π"
}
```

### 2. –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç - `/api/dashboard/detailed`
**GET** `/api/dashboard/detailed`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```json
{
  "studentStats": {
    "totalStudents": 245,
    "activeStudents": 198,
    "newStudentsThisMonth": 15,
    "inactiveStudents": 47
  },
  "groupStats": {
    "totalGroups": 42,
    "activeGroups": 38,
    "averageGroupSize": 8.5,
    "groupsBySubject": [...]
  },
  "lessonStats": {
    "todayLessons": 15,
    "weeklyLessons": 87,
    "monthlyLessons": 342,
    "completedLessons": 89,
    "canceledLessons": 3
  },
  "attendanceStats": {
    "overallAttendanceRate": 78.5,
    "presentStudentsToday": 125,
    "absentStudentsToday": 20,
    "lateStudentsToday": 8,
    "groupAttendanceRates": [...]
  },
  "lowPerformanceGroups": [...],
  "unpaidStudents": [...],
  "trialStudents": [...],
  "topTeachers": [...],
  "latestScheduleUpdate": {...},
  "groupAttendanceRates": [...],
  "generatedAt": "2024-01-15T10:30:00Z",
  "reportPeriod": "–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π"
}
```

## üîÑ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

–û–±–∞ endpoint –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

```
GET /api/dashboard/summary?organizationId={guid}&dateFrom=2024-01-01&dateTo=2024-01-31
GET /api/dashboard/detailed?organizationId={guid}&dateFrom=2024-01-01&dateTo=2024-01-31
```

## üìã Legacy Endpoints (–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ)

–°—Ç–∞—Ä—ã–µ endpoints –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ:

- ‚ö†Ô∏è `/api/dashboard/overview` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/summary`
- ‚ö†Ô∏è `/api/dashboard/students` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/groups` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/lessons` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/attendance` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/low-performance` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/unpaid-students` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/trial-students` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/top-teachers` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/latest-schedule-update` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`
- ‚ö†Ô∏è `/api/dashboard/groups/{id}/attendance` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/dashboard/detailed`

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–£–ø—Ä–æ—â–µ–Ω–∏–µ** - –≤—Å–µ–≥–æ 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö endpoint –≤–º–µ—Å—Ç–æ 11
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
3. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
4. **–ì–∏–±–∫–æ—Å—Ç—å** - –≤—ã–±–æ—Ä –º–µ–∂–¥—É –∫—Ä–∞—Ç–∫–∏–º –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ—Ç—á–µ—Ç–æ–º
5. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ—â–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å 2 endpoint
6. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:
- `DashboardSummaryDto` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ (12 –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫)
- `DashboardDetailedDto` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ + nested –æ–±—ä–µ–∫—Ç—ã)

### –°–µ—Ä–≤–∏—Å—ã:
- `IDashboardService.GetDashboardSummaryAsync()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ–π —Å–≤–æ–¥–∫–∏
- `IDashboardService.GetDashboardDetailedAsync()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

### –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:
- `DashboardController.GetDashboardSummary()` - endpoint –∫—Ä–∞—Ç–∫–æ–π —Å–≤–æ–¥–∫–∏
- `DashboardController.GetDashboardDetailed()` - endpoint –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Ç—Ä–∏–∫

### –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç:
1. üìä –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤/–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
2. üë• –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø/–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø 
3. üìö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–∫–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è/–Ω–µ–¥–µ–ª—é
4. üìâ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø —Å –Ω–∏–∑–∫–æ–π —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å—é
5. üí∞ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–º–∏ —É—Ä–æ–∫–∞–º–∏
6. üéØ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ –ø—Ä–æ–±–Ω—ã—Ö —É—Ä–æ–∫–∞—Ö
7. üèÜ –°—Ä–µ–¥–Ω—è—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –ø–æ —Ü–µ–Ω—Ç—Ä—É
8. üë®‚Äçüè´ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–ø –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

### –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –≤—ã—à–µ + –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é:
- –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º, –≥—Ä—É–ø–ø–∞–º, —É—Ä–æ–∫–∞–º
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
- –°–ø–∏—Å–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –≥—Ä—É–ø–ø, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º** - –¥–æ–±–∞–≤–ª–µ–Ω—ã Include –¥–ª—è Group.Subject  
‚úÖ **–°–æ–∑–¥–∞–Ω —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π Dashboard API** - 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö endpoint  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ endpoints –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ  
‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ **–°–æ–∑–¥–∞–Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∏ –º–æ—â–Ω—ã–π Dashboard API —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö! üéâ